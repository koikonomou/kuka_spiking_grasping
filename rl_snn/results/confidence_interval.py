import numpy as np
import scipy.stats

snn_sr = [0.85,0.9,0.9,0.85,0.9,1,0.95,1,0.85,0.8,1,
        0.85,0.85,0.8,0.8,1,0.85,0.8,0.75,1,0.8,0.85,0.9,0.75,
        0.85,0.8,0.8,0.75,0.9,0.85,0.9,0.9,0.85,0.9,1,0.9,0.85,
        1,0.85,0.85,0.75,0.9,0.85,0.9,0.9,0.9,0.75,0.9,0.7,0.9]

snn_exet= [0.961740851402283,0.877820027501959,0.882763159902472,0.931668559710185,0.872317753340069,
 0.880847113473075,0.879013478755951,0.899517626989455,0.883112788200378,0.85099110883825,
0.865977298645746,0.882883058653937,0.881832308239407,0.863722969503964,0.89292890885297,
0.890214772451492, 0.862051116095649, 0.945321728201473,0.867751777172089,0.887046314421154,
0.864120932186351,0.887154870563083,0.868034814533434,0.867068618535996,0.84917672475179,
0.857786431032068,0.89893596312579,0.842977970838547,0.862770632693642,0.905175553427802,
0.910336306220607,0.890274261173449,0.884056210517883,0.86805900774504,0.872740688778105,
0.873847785748933,0.865439772605896,0.894967385700771,0.839035603735182,0.866612116495768,
0.830141082406044,0.900312386061016,0.884405242072211,0.864587733620091,0.948648628435637,
0.864303325351916,0.862847432494164,0.875004354276155,0.845784076054891,0.842396259307861
]

ddpg_sr = [0.7,0.8,0.65,0.85,0.8,0.55,0.7,0.6,0.65,
            0.65,0.65,0.7,0.7,0.7,0.5,0.7,0.65,0.7,0.7,0.45,
            0.7,0.55,0.5,0.7,0.45,0.55,0.4,0.85,0.6,0.55,0.7,
            0.45,0.45,0.45,0.45,0.65,0.5,0.5,0.7,0.6,0.65,0.45,
            0.75,0.55,0.35,0.7,0.5,0.55,0.45,0.4]


ddpg_exet= [0.989738273620606,1.00800556295058,0.887690850666591,1.11334998077816,1.03716393078075,
0.99424018462499,1.216468334198,1.04913286062387,1.08818738801139,1.10974161965506,1.07366977419172,
0.82856601079305,0.969264713923136,0.908747291564941,1.02982046387412,1.16313656171163,0.994763289179121,
0.982002830505371,1.10911297798157,0.982764554023743,1.0363025188446,0.961015701293945,1.0577515038577,
0.96279624303182,0.962356662750244,0.969474911689758,1.04693555831909,0.80282986164093,0.948866404019869,
0.968474527200063,1.01570998827616,0.932200169563293,1.10274574756622,0.942891311645508,0.911680912971497,
1.01706852231707,0.702425891702825,1.13991752537814,1.13033442497253,1.00273691690885,1.02380675928933,
1.05294620990753,1.05967284739018,1.00357457002004,0.965735375881195,1.11120743751526,0.911691058765758,
0.961196760336558,0.952521681785584,1.02676015430027]



snn_sub_sr = [0.7,0.55,0.65,0.8,0.65,0.65,0.6,0.55,0.5,0.35,
            0.55,0.65,0.55,0.5,0.6,0.5,0.45,0.5,0.55,0.55,0.55,
            0.65,0.5,0.6,0.65,0.45,0.6,0.65,0.7,0.55,0.55,0.55,
            0.45,0.6,0.7,0.7,0.5,0.4,0.6,0.5,0.55,0.65,0.5,0.55,
            0.5,0.5,0.65,0.55,0.5,0.55]

snn_sub_exet = [1.12759539286296,1.07974481582642,1.02734959125519,0.986089201534496,
            1.04685206072671,0.976032478468759,1.02764329543481,0.928852140903473,0.968009666963057,
            0.916315227746964,1.02118734518687,1.03421384947641,0.878784577051798,0.950018167495728,
            0.965148228865403,0.932444659146396,0.933752632141113,0.959525260058316,0.962215880552928,
            0.988735397656759,0.946324547131856,0.968553917748588,1.02238286625255,0.812346421755277,
            1.04105833598546,0.937403297424316,0.966217682911799,1.07045704977853,1.01283774375916,
            0.962028304735819,1.00549741586049,0.938969075679779,0.925771760940552,1.03571866108821,
            0.985607433319092,1.03952288627625,0.97900618206371,0.938167836931017,1.04366814173185,
            0.932018323378129,0.956857204437256,1.05450054577419,0.950222253799438,1.063858350118,
            0.952063322067261,0.987000790509311,0.94880735874176,0.941480239232381,1.02537859569896,
            0.965075214703878]


ddpg_sub_sr = [0.5,0.55,0.55,0.6,0.5,0.6,0.4,0.45,0.5,0.65,
            0.75,0.4,0.6,0.65,0.35,0.55,0.45,0.6,0.65,0.5,0.6,0.45,
            0.35,0.6,0.5,0.55,0.3,0.55,0.45,0.3,0.35,0.45,0.6,0.55,
            0.55,0.6,0.55,0.5,0.6,0.2,0.4,0.65,0.55,0.45,0.5,0.6,
            0.5,0.35,0.5,0.5]

ddpg_sub_exet = [1.18937178091569,0.985384146372477,1.35299177964528,1.403255040829,
    2.01376594196666,2.76028038905217,1.72541870011224,0.981680059432983,1.30489791523327,
    2.1294504404068,1.41630697250366,1.80385208129883,1.62692895302406,0.959896581513541,
    1.05235326290131,1.19419866800308,1.22193691730499,1.07162547111511,1.0303304706301,
    1.2387073690241,1.14046067457933,1.27171423435211,0.801694720983505,1.62645404155438,
    1.21144047650424,1.22806266943614,1.1029920237405,1.27781947453817,1.09272210597992,
    0.816420759473528,0.788698881864548,1.45444324016571,1.27896151175866,0.977394938468933,
    0.994107882181803,1.21941173993624,1.09485767285029,1.17523223703558,1.08685110165523,
    0.823072481155396,1.08122618993123,1.16763636044094,1.02025002241135,0.891751909255981,
    0.938118002631448,1.08729903514569,1.11207368157127,1.65867114067078,1.12178358164701,
    1.21189984408292]

def mean_confidence_interval(data, confidence=0.95):
    a = 1.0 * np.array(data)
    n = len(a)
    m, se = np.mean(a), scipy.stats.sem(a)
    h = se * scipy.stats.t.ppf((1 + confidence) / 2., n-1)
    m = np.round(m, 2)
    h = np.round(h, 2)
    return m, h , m-h, m+h 

snn_sr_o = mean_confidence_interval(snn_sr)
snn_exet_o = mean_confidence_interval(snn_exet)
ddpg_sr_o = mean_confidence_interval(ddpg_sr)
ddpg_exet_o = mean_confidence_interval(ddpg_exet)
print("hybrid-DDPG success rate m , m-h, m+h : ", snn_sr_o)
print("hybrid-DDPG execution time m , m-h, m+h :", snn_exet_o)
print("DDPG success rate m , m-h, m+h :", ddpg_sr_o)
print("DDPG success execution time m , m-h, m+h :", ddpg_exet_o)

snn_sub_sr_o = mean_confidence_interval(snn_sub_sr)
snn_sub_exet_o = mean_confidence_interval(snn_sub_exet)
ddpg_sub_sr_o = mean_confidence_interval(ddpg_sub_sr)
ddpg_sub_exet_o = mean_confidence_interval(ddpg_sub_exet)
print("hybrid-DDPG subgoal success rate m , m-h, m+h : ", snn_sub_sr_o)
print("hybrid-DDPG subgoal execution time m , m-h, m+h :", snn_sub_exet_o)
print("DDPG success subgoal rate m , m-h, m+h :", ddpg_sub_sr_o)
print("DDPG success subgoal execution time m , m-h, m+h :", ddpg_sub_exet_o)